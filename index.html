<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KLOHE | San Valentín</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400;600&family=Montserrat:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #1a1a1a;
            --accent: #d4a5a5;
            --accent-dark: #b88a8a;
            --bg: #fafafa;
            --card-bg: #ffffff;
            --text: #2c2c2c;
            --text-light: #666;
            --border: #e8e8e8;
            --success: #4a7c59;
            --error: #c0392b;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Montserrat', sans-serif;
            background: var(--bg);
            color: var(--text);
            line-height: 1.6;
            font-weight: 400;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header Minimalista */
        header {
            background: var(--card-bg);
            border-bottom: 1px solid var(--border);
            padding: 1.2rem 0;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 1px 3px rgba(0,0,0,0.03);
        }

        header .container {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .brand-section {
            display: flex;
            align-items: center;
            gap: 2rem;
        }

        .logo {
            font-family: 'Cormorant Garamond', serif;
            font-size: 2rem;
            font-weight: 600;
            color: var(--primary);
            letter-spacing: 4px;
            text-transform: uppercase;
        }

        .rotating-message {
            font-size: 0.85rem;
            color: var(--text-light);
            font-weight: 500;
            letter-spacing: 0.5px;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            border-left: 1px solid var(--border);
            padding-left: 2rem;
        }

        .rotating-message::before {
            content: '♥';
            color: var(--accent-dark);
            font-size: 0.7rem;
        }

        .cart-icon {
            position: relative;
            cursor: pointer;
            width: 45px;
            height: 45px;
            border: 1px solid var(--border);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            background: transparent;
            color: var(--primary);
        }

        .cart-icon:hover {
            border-color: var(--accent);
            color: var(--accent-dark);
        }

        .cart-icon span {
            position: absolute;
            top: -5px;
            right: -5px;
            background: var(--accent-dark);
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.7rem;
            font-weight: 600;
        }

        /* Hero */
        .hero {
            text-align: center;
            padding: 4rem 0 2rem;
            background: linear-gradient(to bottom, #fff 0%, var(--bg) 100%);
        }

        .hero h1 {
            font-family: 'Cormorant Garamond', serif;
            font-size: 3rem;
            font-weight: 300;
            color: var(--primary);
            margin-bottom: 0.5rem;
            letter-spacing: 2px;
        }

        .hero p {
            color: var(--text-light);
            font-size: 1.1rem;
            font-weight: 300;
        }

        /* Filtros */
        .filters-container {
            background: var(--card-bg);
            padding: 1.5rem;
            border-radius: 12px;
            margin: 2rem 0;
            border: 1px solid var(--border);
        }

        .filters {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
            justify-content: center;
            align-items: center;
        }

        .search-container {
            position: relative;
            flex: 1;
            min-width: 250px;
            max-width: 400px;
        }

        .search-container input {
            width: 100%;
            padding: 0.9rem 1rem 0.9rem 2.8rem;
            border: 1px solid var(--border);
            border-radius: 8px;
            font-size: 0.9rem;
            background: var(--bg);
            color: var(--text);
            transition: all 0.3s;
            font-family: 'Montserrat', sans-serif;
        }

        .search-container input:focus {
            outline: none;
            border-color: var(--accent);
            background: white;
        }

        .search-container i {
            position: absolute;
            left: 1rem;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-light);
            font-size: 0.9rem;
        }

        .filters select {
            padding: 0.9rem 1.2rem;
            border: 1px solid var(--border);
            border-radius: 8px;
            font-size: 0.9rem;
            background: var(--bg);
            color: var(--text);
            cursor: pointer;
            font-family: 'Montserrat', sans-serif;
            min-width: 180px;
        }

        .filter-checkbox {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            cursor: pointer;
            font-size: 0.9rem;
            color: var(--text);
            font-weight: 500;
        }

        .filter-checkbox input[type="checkbox"] {
            width: 18px;
            height: 18px;
            accent-color: var(--accent-dark);
        }

        /* Grid 5 columnas */
        .products-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1.5rem;
            margin-bottom: 3rem;
        }

        @media (min-width: 640px) {
            .products-grid {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        @media (min-width: 1024px) {
            .products-grid {
                grid-template-columns: repeat(4, 1fr);
            }
        }

        @media (min-width: 1280px) {
            .products-grid {
                grid-template-columns: repeat(5, 1fr);
            }
        }

        .product-card {
            background: var(--card-bg);
            border-radius: 12px;
            overflow: hidden;
            transition: all 0.3s ease;
            border: 1px solid var(--border);
            position: relative;
        }

        .product-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.08);
            border-color: var(--accent);
        }

        .product-card.agotado {
            opacity: 0.6;
        }

        .product-card.agotado .product-image-container::after {
            content: 'AGOTADO';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(44, 44, 44, 0.9);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: 600;
            font-size: 0.75rem;
            letter-spacing: 2px;
        }

        .badge-nuevo {
            position: absolute;
            top: 12px;
            right: 12px;
            background: var(--accent-dark);
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.65rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            z-index: 10;
        }

        .product-image-container {
            position: relative;
            width: 100%;
            aspect-ratio: 1;
            overflow: hidden;
            background: var(--bg);
        }

        .product-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.4s ease;
        }

        .product-card:hover .product-image {
            transform: scale(1.05);
        }

        .product-info {
            padding: 1.2rem;
        }

        .product-category {
            font-size: 0.7rem;
            text-transform: uppercase;
            letter-spacing: 1.5px;
            color: var(--accent-dark);
            margin-bottom: 0.3rem;
            font-weight: 600;
        }

        .product-title {
            font-family: 'Cormorant Garamond', serif;
            font-size: 1.1rem;
            margin-bottom: 0.4rem;
            color: var(--primary);
            font-weight: 600;
            line-height: 1.3;
        }

        .product-code {
            font-size: 0.75rem;
            color: var(--text-light);
            margin-bottom: 0.8rem;
            font-weight: 500;
        }

        .price-quickview {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .product-price {
            font-size: 1.25rem;
            color: var(--primary);
            font-weight: 600;
        }

        .quick-view-btn {
            width: 36px;
            height: 36px;
            background: transparent;
            border: 1px solid var(--border);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            color: var(--text-light);
            font-size: 0.9rem;
        }

        .quick-view-btn:hover {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        .quantity-selector {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.8rem;
            margin-bottom: 1rem;
        }

        .qty-btn {
            width: 32px;
            height: 32px;
            border: 1px solid var(--border);
            background: transparent;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 500;
            transition: all 0.2s;
            color: var(--primary);
        }

        .qty-btn:hover {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        .qty-display {
            min-width: 30px;
            text-align: center;
            font-weight: 600;
            font-size: 0.95rem;
        }

        .add-to-cart {
            width: 100%;
            padding: 0.9rem;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.85rem;
            transition: all 0.3s;
            text-transform: uppercase;
            letter-spacing: 1.5px;
            font-weight: 600;
            font-family: 'Montserrat', sans-serif;
        }

        .add-to-cart:hover:not(:disabled) {
            background: var(--accent-dark);
            transform: translateY(-2px);
        }

        .add-to-cart:disabled {
            opacity: 0.4;
            cursor: not-allowed;
            background: var(--text-light);
        }

        /* Testimonios Automáticos */
        .testimonials-section {
            background: white;
            padding: 4rem 0;
            margin: 3rem 0;
            border-top: 1px solid var(--border);
            border-bottom: 1px solid var(--border);
        }

        .testimonials-header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .testimonials-header h2 {
            font-family: 'Cormorant Garamond', serif;
            font-size: 2rem;
            font-weight: 400;
            color: var(--primary);
            margin-bottom: 0.5rem;
        }

        .testimonials-header p {
            color: var(--text-light);
            font-size: 0.9rem;
        }

        .testimonial-box {
            max-width: 600px;
            margin: 0 auto;
            background: var(--bg);
            padding: 2rem;
            border-radius: 12px;
            border: 1px solid var(--border);
            min-height: 150px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }

        .testimonial-item {
            opacity: 0;
            transform: translateY(10px);
            transition: all 0.5s ease;
            position: absolute;
            width: 100%;
            left: 0;
            padding: 0 2rem;
        }

        .testimonial-item.active {
            opacity: 1;
            transform: translateY(0);
            position: relative;
        }

        .testimonial-text {
            font-family: 'Cormorant Garamond', serif;
            font-size: 1.3rem;
            font-style: italic;
            color: var(--text);
            margin-bottom: 1rem;
            line-height: 1.5;
            text-align: center;
        }

        .testimonial-author {
            color: var(--accent-dark);
            font-weight: 600;
            font-size: 0.9rem;
            text-align: center;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .testimonial-counter {
            text-align: center;
            margin-top: 1.5rem;
            font-size: 0.8rem;
            color: var(--text-light);
        }

        /* Mini Cart */
        .cart-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.4);
            z-index: 1000;
            display: none;
            opacity: 0;
            transition: opacity 0.3s;
            backdrop-filter: blur(4px);
        }

        .cart-overlay.active {
            display: block;
            opacity: 1;
        }

        .mini-cart {
            position: fixed;
            top: 0;
            right: -100%;
            width: 100%;
            max-width: 420px;
            height: 100vh;
            background: white;
            box-shadow: -5px 0 30px rgba(0,0,0,0.1);
            z-index: 1001;
            transition: right 0.3s ease;
            display: flex;
            flex-direction: column;
        }

        .mini-cart.open {
            right: 0;
        }

        .mini-cart-header {
            padding: 1.5rem;
            border-bottom: 1px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .mini-cart-header h3 {
            font-family: 'Cormorant Garamond', serif;
            font-size: 1.5rem;
            font-weight: 400;
        }

        .mini-cart-body {
            flex: 1;
            overflow-y: auto;
            padding: 1.5rem;
        }

        .mini-cart-footer {
            padding: 1.5rem;
            border-top: 1px solid var(--border);
            background: var(--bg);
        }

        .shipping-option {
            background: white;
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 1rem;
            border: 1px solid var(--border);
            transition: all 0.3s;
        }

        .shipping-option.selected {
            border-color: var(--accent-dark);
            background: #fdf8f8;
        }

        .shipping-option-header {
            display: flex;
            align-items: center;
            gap: 0.8rem;
            cursor: pointer;
        }

        .shipping-option input[type="checkbox"] {
            width: 20px;
            height: 20px;
            accent-color: var(--accent-dark);
        }

        .discount-code {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }

        .discount-code input {
            flex: 1;
            padding: 0.8rem;
            border: 1px solid var(--border);
            border-radius: 8px;
            font-size: 0.9rem;
            font-family: 'Montserrat', sans-serif;
        }

        .discount-code button {
            background: var(--primary);
            color: white;
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
            font-family: 'Montserrat', sans-serif;
        }

        .discount-code button:hover {
            background: var(--accent-dark);
        }

        .checkout-btn {
            width: 100%;
            padding: 1rem;
            background: var(--success);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.8rem;
            font-weight: 600;
            margin-top: 1rem;
            transition: all 0.3s;
            font-family: 'Montserrat', sans-serif;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .checkout-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(74, 124, 89, 0.3);
        }

        /* Modal Error Simple */
        .error-modal {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 2rem 3rem;
            border-radius: 12px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.2);
            z-index: 2000;
            text-align: center;
            border: 1px solid var(--border);
            min-width: 300px;
        }

        .error-modal.show {
            display: block;
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translate(-50%, -40%); }
            to { opacity: 1; transform: translate(-50%, -50%); }
        }

        .error-modal i {
            font-size: 3rem;
            color: var(--error);
            margin-bottom: 1rem;
        }

        .error-modal h4 {
            font-family: 'Cormorant Garamond', serif;
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
            color: var(--primary);
        }

        .error-modal p {
            color: var(--text-light);
            font-size: 0.9rem;
            margin-bottom: 1.5rem;
        }

        .error-modal button {
            background: var(--primary);
            color: white;
            border: none;
            padding: 0.8rem 2rem;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            font-family: 'Montserrat', sans-serif;
        }

        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 1999;
        }

        .modal-overlay.show {
            display: block;
        }

        /* Quick View */
        .quick-view-modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            justify-content: center;
            align-items: center;
            padding: 1rem;
            backdrop-filter: blur(5px);
        }

        .quick-view-content {
            background: white;
            border-radius: 16px;
            max-width: 800px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            padding: 2rem;
            position: relative;
        }

        @media (max-width: 640px) {
            .quick-view-content {
                grid-template-columns: 1fr;
                padding: 1.5rem;
            }
        }

        .quick-view-image {
            width: 100%;
            border-radius: 12px;
            object-fit: cover;
            aspect-ratio: 1;
        }

        .quick-view-info h2 {
            font-family: 'Cormorant Garamond', serif;
            font-size: 2rem;
            margin-bottom: 0.5rem;
            color: var(--primary);
        }

        .quick-view-price {
            font-size: 1.8rem;
            color: var(--accent-dark);
            font-weight: 600;
            margin: 1rem 0;
        }

        /* FAQ */
        .faq-section {
            padding: 4rem 0;
            max-width: 700px;
            margin: 0 auto;
        }

        .faq-section h3 {
            font-family: 'Cormorant Garamond', serif;
            text-align: center;
            margin-bottom: 2rem;
            font-size: 2rem;
            font-weight: 400;
            color: var(--primary);
        }

        .faq-item {
            background: white;
            border-radius: 8px;
            margin-bottom: 1rem;
            overflow: hidden;
            border: 1px solid var(--border);
        }

        .faq-question {
            padding: 1.2rem;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-weight: 600;
            font-size: 0.95rem;
            color: var(--primary);
            transition: all 0.3s;
        }

        .faq-question:hover {
            background: var(--bg);
        }

        .faq-answer {
            padding: 0 1.2rem;
            max-height: 0;
            overflow: hidden;
            transition: all 0.3s;
            font-size: 0.9rem;
            color: var(--text-light);
            line-height: 1.6;
        }

        .faq-item.active .faq-answer {
            padding: 0 1.2rem 1.2rem;
            max-height: 200px;
        }

        /* Footer */
        footer {
            background: var(--primary);
            color: white;
            text-align: center;
            padding: 3rem 2rem;
            margin-top: 4rem;
        }

        footer p {
            opacity: 0.8;
            font-size: 0.9rem;
            margin-bottom: 1rem;
        }

        footer a {
            color: var(--accent);
            text-decoration: none;
            margin: 0 1rem;
            font-weight: 500;
            transition: color 0.3s;
        }

        footer a:hover {
            color: white;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .brand-section {
                flex-direction: column;
                gap: 0.5rem;
                align-items: flex-start;
            }

            .rotating-message {
                border-left: none;
                padding-left: 0;
                font-size: 0.75rem;
            }

            .hero h1 {
                font-size: 2rem;
            }

            .filters {
                flex-direction: column;
                width: 100%;
            }

            .search-container {
                max-width: 100%;
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <div class="brand-section">
                <div class="logo">KLOHE</div>
                <div class="rotating-message" id="rotating-message">Colección San Valentín 2025</div>
            </div>
            <div class="cart-icon" onclick="toggleMiniCart()">
                <i class="fas fa-shopping-bag"></i>
                <span id="cart-count">0</span>
            </div>
        </div>
    </header>

    <section class="hero">
        <div class="container">
            <h1>Elegancia Minimalista</h1>
            <p>Descubre nuestra colección exclusiva para San Valentín</p>
        </div>
    </section>

    <main class="container">
        <div class="filters-container">
            <div class="filters">
                <div class="search-container">
                    <i class="fas fa-search"></i>
                    <input type="text" id="search-input" placeholder="Buscar productos..." onkeyup="filterProducts()">
                </div>
                
                <select id="category-filter" onchange="filterProducts()">
                    <option value="all">Todas las categorías</option>
                    <option value="Carteras">Carteras</option>
                    <option value="Aritos">Aritos</option>
                    <option value="Collares">Collares</option>
                    <option value="Pulseras">Pulseras</option>
                    <option value="Relojes">Relojes</option>
                    <option value="Anillos">Anillos</option>
                </select>

                <label class="filter-checkbox">
                    <input type="checkbox" id="stock-filter" onchange="filterProducts()">
                    <span>Solo disponibles</span>
                </label>
            </div>
        </div>

        <div id="products-grid" class="products-grid"></div>
    </main>

    <section class="testimonials-section">
        <div class="container">
            <div class="testimonials-header">
                <h2>Lo que dicen nuestros clientes</h2>
                <p>Experiencias reales de compra</p>
            </div>
            <div class="testimonial-box" id="testimonial-box">
                <div class="testimonial-item active" id="testimonial-item">
                    <div class="testimonial-text" id="testimonial-text">"La calidad de los accesorios es excepcional, superó mis expectativas"</div>
                    <div class="testimonial-author" id="testimonial-author">— María G.</div>
                </div>
            </div>
            <div class="testimonial-counter">
                <span id="current-testimonial">1</span> / 35
            </div>
        </div>
    </section>

    <section class="faq-section">
        <div class="container">
            <h3>Preguntas Frecuentes</h3>
            <div class="faq-item">
                <div class="faq-question" onclick="toggleFaq(this)">
                    ¿Cuál es el tiempo de entrega?
                    <i class="fas fa-chevron-down"></i>
                </div>
                <div class="faq-answer">
                    El tiempo de entrega es de 2 a 5 días hábiles en todo el país. Para San Valentín recomendamos hacer el pedido con anticipación.
                </div>
            </div>
            <div class="faq-item">
                <div class="faq-question" onclick="toggleFaq(this)">
                    ¿Los productos son de plata real?
                    <i class="fas fa-chevron-down"></i>
                </div>
                <div class="faq-answer">
                    Sí, nuestra línea de plata está fabricada en plata italiana 925 con certificado de autenticidad incluido.
                </div>
            </div>
            <div class="faq-item">
                <div class="faq-question" onclick="toggleFaq(this)">
                    ¿Puedo cambiar el tamaño de los anillos?
                    <i class="fas fa-chevron-down"></i>
                </div>
                <div class="faq-answer">
                    Ofrecemos ajuste de talla gratuito en nuestra tienda física dentro de los primeros 15 días de compra.
                </div>
            </div>
            <div class="faq-item">
                <div class="faq-question" onclick="toggleFaq(this)">
                    ¿Hacen envíos internacionales?
                    <i class="fas fa-chevron-down"></i>
                </div>
                <div class="faq-answer">
                    Actualmente solo realizamos envíos dentro del territorio nacional. Próximamente expandiremos a Centroamérica.
                </div>
            </div>
        </div>
    </section>

    <footer>
        <p>&copy; 2025 KLOHE. Todos los derechos reservados.</p>
        <p>
            <a href="#"><i class="fab fa-instagram"></i> @klohe</a>
            <a href="#"><i class="fab fa-whatsapp"></i> Contacto</a>
        </p>
    </footer>

    <!-- Modal Error Código -->
    <div class="modal-overlay" id="error-overlay" onclick="closeErrorModal()"></div>
    <div class="error-modal" id="error-modal">
        <i class="fas fa-times-circle"></i>
        <h4>Código Inválido</h4>
        <p>El código ingresado no es válido o ha expirado.</p>
        <button onclick="closeErrorModal()">Entendido</button>
    </div>

    <!-- Mini Cart -->
    <div class="cart-overlay" id="cart-overlay" onclick="toggleMiniCart()"></div>
    <div class="mini-cart" id="mini-cart">
        <div class="mini-cart-header">
            <h3>Tu Carrito</h3>
            <button onclick="toggleMiniCart()" style="background: none; border: none; font-size: 1.5rem; cursor: pointer; color: var(--primary);">&times;</button>
        </div>
        
        <div class="mini-cart-body" id="mini-cart-body"></div>

        <div class="mini-cart-footer">
            <div class="shipping-option" id="shipping-option">
                <label class="shipping-option-header">
                    <input type="checkbox" id="shipping-checkbox" onchange="toggleShipping()">
                    <div style="flex: 1;">
                        <div style="font-weight: 600; font-size: 0.95rem;">Envío a domicilio</div>
                        <div style="font-size: 0.8rem; color: var(--text-light);">$3.75 (Gratis en compras +$25)</div>
                    </div>
                </label>
            </div>

            <div class="discount-code">
                <input type="text" id="discount-input" placeholder="Código de descuento">
                <button onclick="applyDiscount()">Aplicar</button>
            </div>

            <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem; font-size: 0.9rem;">
                <span style="color: var(--text-light);">Subtotal:</span>
                <strong>$<span id="cart-subtotal">0.00</span></strong>
            </div>
            <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem; font-size: 0.9rem; display: none;" id="shipping-row">
                <span style="color: var(--text-light);">Envío:</span>
                <strong>+$<span id="cart-shipping">0.00</span></strong>
            </div>
            <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem; font-size: 0.9rem; color: var(--success); display: none;" id="discount-row">
                <span>Descuento:</span>
                <strong>-$<span id="cart-discount">0.00</span></strong>
            </div>
            <div style="display: flex; justify-content: space-between; font-size: 1.2rem; font-weight: 600; margin-top: 1rem; padding-top: 1rem; border-top: 1px solid var(--border);">
                <span>Total:</span>
                <span>$<span id="cart-total">0.00</span></span>
            </div>
            <button class="checkout-btn" onclick="checkout()">
                <i class="fab fa-whatsapp"></i> Comprar por WhatsApp
            </button>
        </div>
    </div>

    <!-- Quick View Modal -->
    <div id="quick-view-modal" class="quick-view-modal" onclick="closeQuickView(event)">
        <div class="quick-view-content" onclick="event.stopPropagation()">
            <button onclick="closeQuickView()" style="position: absolute; top: 1rem; right: 1rem; background: none; border: none; font-size: 1.5rem; cursor: pointer; color: var(--primary);">&times;</button>
            <img id="quick-view-image" class="quick-view-image" src="" alt="">
            <div class="quick-view-info">
                <span id="quick-view-category" style="color: var(--accent-dark); text-transform: uppercase; font-size: 0.8rem; letter-spacing: 2px; font-weight: 600;"></span>
                <h2 id="quick-view-title"></h2>
                <div id="quick-view-price" class="quick-view-price"></div>
                <p id="quick-view-description" style="color: var(--text-light); line-height: 1.8; margin-bottom: 2rem;"></p>
                <button class="checkout-btn" onclick="addToCartFromQuickView()" style="margin: 0;">
                    Agregar al carrito
                </button>
            </div>
        </div>
    </div>

    <script>
        // Datos de productos (ejemplo con 25 productos)
        const products = [
            { id: 1, name: "Collar Corazón Minimal", code: "V001", price: 25.00, stock: 5, category: "Collares", isNew: true },
            { id: 2, name: "Aritos Perla Natural", code: "V002", price: 18.50, stock: 8, category: "Aritos", isNew: false },
            { id: 3, name: "Pulsera Plata 925", code: "V003", price: 32.00, stock: 3, category: "Pulseras", isNew: true },
            { id: 4, name: "Anillo Compromiso", code: "V004", price: 45.00, stock: 2, category: "Anillos", isNew: true },
            { id: 5, name: "Cartera Nude", code: "V005", price: 28.00, stock: 0, category: "Carteras", isNew: false },
            { id: 6, name: "Reloj Rose Gold", code: "V006", price: 55.00, stock: 4, category: "Relojes", isNew: false },
            { id: 7, name: "Collar Inicial", code: "V007", price: 22.00, stock: 12, category: "Collares", isNew: false },
            { id: 8, name: "Aritos Aro Gold", code: "V008", price: 15.00, stock: 0, category: "Aritos", isNew: false },
            { id: 9, name: "Pulsera Pareja", code: "V009", price: 35.00, stock: 6, category: "Pulseras", isNew: true },
            { id: 10, name: "Anillo Midi Set", code: "V010", price: 20.00, stock: 15, category: "Anillos", isNew: false },
            { id: 11, name: "Cartera Mini", code: "V011", price: 24.00, stock: 7, category: "Carteras", isNew: false },
            { id: 12, name: "Reloj Clásico", code: "V012", price: 48.00, stock: 3, category: "Relojes", isNew: false },
            { id: 13, name: "Collar Layered", code: "V013", price: 30.00, stock: 4, category: "Collares", isNew: true },
            { id: 14, name: "Aritos Statement", code: "V014", price: 28.00, stock: 5, category: "Aritos", isNew: false },
            { id: 15, name: "Pulsera Charms", code: "V015", price: 38.00, stock: 0, category: "Pulseras", isNew: false },
            { id: 16, name: "Anillo Signet", code: "V016", price: 42.00, stock: 2, category: "Anillos", isNew: true },
            { id: 17, name: "Cartera Crossbody", code: "V017", price: 35.00, stock: 8, category: "Carteras", isNew: false },
            { id: 18, name: "Reloj Mesh", code: "V018", price: 52.00, stock: 4, category: "Relojes", isNew: false },
            { id: 19, name: "Collar Locket", code: "V019", price: 40.00, stock: 3, category: "Collares", isNew: true },
            { id: 20, name: "Aritos Stud", code: "V020", price: 12.00, stock: 20, category: "Aritos", isNew: false },
            { id: 21, name: "Pulsera Tennis", code: "V021", price: 65.00, stock: 2, category: "Pulseras", isNew: true },
            { id: 22, name: "Anillo Eternity", code: "V022", price: 58.00, stock: 0, category: "Anillos", isNew: false },
            { id: 23, name: "Cartera Tote", code: "V023", price: 45.00, stock: 6, category: "Carteras", isNew: false },
            { id: 24, name: "Reloj Minimal", code: "V024", price: 49.00, stock: 5, category: "Relojes", isNew: false },
            { id: 25, name: "Collar Barra", code: "V025", price: 27.00, stock: 9, category: "Collares", isNew: false }
        ];

        // 35 Testimonios
        const testimonials = [
            { text: "La calidad de los accesorios es excepcional, superó mis expectativas", author: "María G." },
            { text: "El empaque es tan hermoso que no necesitas envoltorio de regalo", author: "Carlos R." },
            { text: "Mi novia quedó encantada con el collar, definitivamente volveré a comprar", author: "Andrés M." },
            { text: "Atención al cliente impecable, resolvieron todas mis dudas al instante", author: "Laura P." },
            { text: "Los aretes de plata son exactamente como se ven en las fotos", author: "Sofía L." },
            { text: "Entrega súper rápida, llegó justo a tiempo para la cena de aniversario", author: "Diego H." },
            { text: "Excelente relación calidad-precio, se nota que son materiales premium", author: "Valentina N." },
            { text: "La pulsera de pareja es perfecta, a mi esposo le encantó", author: "Camila S." },
            { text: "Desde que descubrí Klohe no compro accesorios en otro lugar", author: "Isabella T." },
            { text: "El reloj minimalista combina con todo mi guardarropa", author: "Fernanda A." },
            { text: "Me sorprendió lo delicados que son los detalles de cada pieza", author: "Luciana M." },
            { text: "El proceso de compra fue muy sencillo y seguro", author: "Gabriel C." },
            { text: "Llevo 3 meses usando mi collar y sigue como nuevo", author: "Victoria R." },
            { text: "Los códigos de descuento reales, no como otras tiendas", author: "Daniela F." },
            { text: "El servicio de WhatsApp es muy práctico para consultar stock", author: "Martín G." },
            { text: "Mi madre no se quitó el anillo en toda la cena de Navidad", author: "Julián P." },
            { text: "La plata 925 realmente no causa alergias, lo he comprobado", author: "Renata V." },
            { text: "Diseños únicos que no encuentras en tiendas comunes", author: "Paula H." },
            { text: "El seguimiento de envío es muy preciso y actualizado", author: "Tomás S." },
            { text: "Me ayudaron a elegir el regalo perfecto para mi aniversario", author: "Natalia B." },
            { text: "La caja de regalo incluida es muy elegante y sobria", author: "Elena M." },
            { text: "Los productos llegan muy bien protegidos, sin riesgo de daños", author: "Joaquín L." },
            { text: "Amo que tengan opciones para todos los presupuestos", author: "Antonella R." },
            { text: "El contraste entre minimalismo y elegancia es perfecto", author: "Mariana C." },
            { text: "Siempre recibo cumplidos cuando uso mis accesorios de Klohe", author: "Bianca D." },
            { text: "La garantía de 30 días me dio confianza para mi primera compra", author: "Ignacio A." },
            { text: "El personal de tienda física es muy amable y conocedor", author: "Catalina N." },
            { text: "Los sets de anillos son ideales para regalar en San Valentín", author: "Emilia S." },
            { text: "Me encanta la filosofía de diseño limpio y atemporal", author: "Francisco P." },
            { text: "La actualización de stock en tiempo real es muy útil", author: "Agustina V." },
            { text: "El newsletter tiene descuentos exclusivos reales", author: "Constanza M." },
            { text: "La devolución fue sencilla cuando necesité cambiar talla", author: "Sebastián R." },
            { text: "Los materiales son exactamente los descritos en la web", author: "Josefina T." },
            { text: "La experiencia de unboxing es memorable", author: "Maximiliano G." },
            { text: "Klohe se ha convertido en mi marca de accesorios favorita", author: "Dominga F." }
        ];

        let cart = [];
        let currentDiscount = 0;
        let shippingSelected = false;
        let currentQuickViewId = null;
        let currentTestimonial = 0;
        let filteredProducts = [...products];

        // Mensajes rotativos
        const messages = [
            "Colección San Valentín 2025",
            "Envío gratis en compras +$25",
            "Nuevos ingresos cada semana",
            "Plata Italiana 925 certificada",
            "Regalos que enamoran"
        ];

        document.addEventListener('DOMContentLoaded', () => {
            renderProducts();
            initRotatingMessages();
            initTestimonials();
        });

        function initRotatingMessages() {
            const el = document.getElementById('rotating-message');
            let idx = 0;
            setInterval(() => {
                idx = (idx + 1) % messages.length;
                el.style.opacity = '0';
                setTimeout(() => {
                    el.textContent = messages[idx];
                    el.style.opacity = '1';
                }, 300);
            }, 4000);
        }

        function initTestimonials() {
            updateTestimonial();
            setInterval(() => {
                currentTestimonial = (currentTestimonial + 1) % testimonials.length;
                updateTestimonial();
            }, 5000);
        }

        function updateTestimonial() {
            const item = document.getElementById('testimonial-item');
            const text = document.getElementById('testimonial-text');
            const author = document.getElementById('testimonial-author');
            const counter = document.getElementById('current-testimonial');
            
            item.style.opacity = '0';
            item.style.transform = 'translateY(10px)';
            
            setTimeout(() => {
                text.textContent = `"${testimonials[currentTestimonial].text}"`;
                author.textContent = `— ${testimonials[currentTestimonial].author}`;
                counter.textContent = currentTestimonial + 1;
                
                item.style.opacity = '1';
                item.style.transform = 'translateY(0)';
            }, 300);
        }

        function renderProducts() {
            const grid = document.getElementById('products-grid');
            grid.innerHTML = filteredProducts.map(p => {
                const isAgotado = p.stock === 0;
                return `
                    <div class="product-card ${isAgotado ? 'agotado' : ''}">
                        ${p.isNew ? '<div class="badge-nuevo">Nuevo</div>' : ''}
                        <div class="product-image-container">
                            <img src="https://via.placeholder.com/300x300/d4a5a5/ffffff?text=${p.code}" 
                                 alt="${p.name}" class="product-image">
                        </div>
                        <div class="product-info">
                            <div class="product-category">${p.category}</div>
                            <h3 class="product-title">${p.name}</h3>
                            <div class="product-code">Cód: ${p.code}</div>
                            
                            <div class="price-quickview">
                                <div class="product-price">$${p.price.toFixed(2)}</div>
                                <button class="quick-view-btn" onclick="openQuickView(${p.id})">
                                    <i class="fas fa-eye"></i>
                                </button>
                            </div>
                            
                            ${!isAgotado ? `
                                <div class="quantity-selector">
                                    <button class="qty-btn" onclick="updateQty(${p.id}, -1)">-</button>
                                    <span class="qty-display" id="qty-${p.id}">1</span>
                                    <button class="qty-btn" onclick="updateQty(${p.id}, 1)">+</button>
                                </div>
                            ` : ''}
                            
                            <button class="add-to-cart" onclick="addToCart(${p.id})" ${isAgotado ? 'disabled' : ''}>
                                ${isAgotado ? 'Agotado' : 'Agregar al carrito'}
                            </button>
                        </div>
                    </div>
                `;
            }).join('');
        }

        function filterProducts() {
            const search = document.getElementById('search-input').value.toLowerCase();
            const category = document.getElementById('category-filter').value;
            const onlyAvailable = document.getElementById('stock-filter').checked;
            
            filteredProducts = products.filter(p => {
                const matchSearch = p.name.toLowerCase().includes(search) || p.code.toLowerCase().includes(search);
                const matchCategory = category === 'all' || p.category === category;
                const matchStock = !onlyAvailable || p.stock > 0;
                return matchSearch && matchCategory && matchStock;
            });
            renderProducts();
        }

        function updateQty(id, change) {
            const display = document.getElementById(`qty-${id}`);
            if (!display) return;
            let val = parseInt(display.textContent) + change;
            if (val < 1) val = 1;
            const product = products.find(p => p.id === id);
            if (val > product.stock) val = product.stock;
            display.textContent = val;
        }

        function openQuickView(id) {
            const p = products.find(x => x.id === id);
            if (!p) return;
            currentQuickViewId = id;
            document.getElementById('quick-view-image').src = `https://via.placeholder.com/400x400/d4a5a5/ffffff?text=${p.code}`;
            document.getElementById('quick-view-category').textContent = p.category;
            document.getElementById('quick-view-title').textContent = p.name;
            document.getElementById('quick-view-price').textContent = '$' + p.price.toFixed(2);
            document.getElementById('quick-view-description').innerHTML = 
                `Código: ${p.code}<br>Stock: ${p.stock} unidades<br><br>Diseño minimalista perfecto para cualquier ocasión.`;
            document.getElementById('quick-view-modal').style.display = 'flex';
        }

        function closeQuickView(e) {
            if (!e || e.target.id === 'quick-view-modal') {
                document.getElementById('quick-view-modal').style.display = 'none';
            }
        }

        function addToCartFromQuickView() {
            if (currentQuickViewId) {
                addToCart(currentQuickViewId);
                closeQuickView();
            }
        }

        function addToCart(id) {
            const product = products.find(p => p.id === id);
            if (!product || product.stock === 0) return;
            
            const qty = parseInt(document.getElementById(`qty-${id}`)?.textContent || 1);
            const existing = cart.find(item => item.id === id);
            
            if (existing) {
                if (existing.quantity + qty <= product.stock) {
                    existing.quantity += qty;
                } else {
                    showErrorModal();
                    return;
                }
            } else {
                cart.push({ ...product, quantity: qty });
            }
            
            updateCartUI();
            showNotification('Agregado al carrito');
        }

        function toggleMiniCart() {
            const cartEl = document.getElementById('mini-cart');
            const overlay = document.getElementById('cart-overlay');
            const isOpen = cartEl.classList.contains('open');
            
            if (isOpen) {
                cartEl.classList.remove('open');
                overlay.classList.remove('active');
            } else {
                cartEl.classList.add('open');
                overlay.classList.add('active');
                updateCartUI();
            }
        }

        function updateCartUI() {
            const body = document.getElementById('mini-cart-body');
            const count = document.getElementById('cart-count');
            const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
            
            count.textContent = totalItems;
            
            if (cart.length === 0) {
                body.innerHTML = `
                    <div style="text-align: center; padding: 3rem; color: var(--text-light);">
                        <i class="fas fa-shopping-bag" style="font-size: 3rem; margin-bottom: 1rem; display: block; opacity: 0.3;"></i>
                        Tu carrito está vacío
                    </div>
                `;
            } else {
                body.innerHTML = cart.map(item => `
                    <div style="display: flex; gap: 1rem; padding: 1rem; background: white; border-radius: 8px; margin-bottom: 0.8rem; border: 1px solid var(--border);">
                        <img src="https://via.placeholder.com/60x60/d4a5a5/ffffff?text=${item.code}" 
                             style="width: 60px; height: 60px; object-fit: cover; border-radius: 8px;">
                        <div style="flex: 1;">
                            <div style="font-weight: 600; font-size: 0.9rem;">${item.name}</div>
                            <div style="color: var(--accent-dark); font-weight: 600;">$${(item.price * item.quantity).toFixed(2)}</div>
                            <div style="display: flex; align-items: center; gap: 0.5rem; margin-top: 0.5rem;">
                                <button onclick="updateCartQty(${item.id}, -1)" style="width: 24px; height: 24px; border: 1px solid var(--border); background: white; border-radius: 50%; cursor: pointer;">-</button>
                                <span style="font-weight: 600; font-size: 0.9rem;">${item.quantity}</span>
                                <button onclick="updateCartQty(${item.id}, 1)" style="width: 24px; height: 24px; border: 1px solid var(--border); background: white; border-radius: 50%; cursor: pointer;">+</button>
                            </div>
                        </div>
                        <button onclick="removeFromCart(${item.id})" style="background: none; border: none; color: var(--error); cursor: pointer; align-self: flex-start;">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                `).join('');
            }
            updateCartTotals();
        }

        function updateCartQty(id, change) {
            const item = cart.find(i => i.id === id);
            const product = products.find(p => p.id === id);
            if (!item) return;
            
            const newQty = item.quantity + change;
            if (newQty <= 0) {
                removeFromCart(id);
            } else if (newQty <= product.stock) {
                item.quantity = newQty;
                updateCartUI();
            }
        }

        function removeFromCart(id) {
            cart = cart.filter(i => i.id !== id);
            updateCartUI();
        }

        function toggleShipping() {
            const checkbox = document.getElementById('shipping-checkbox');
            const option = document.getElementById('shipping-option');
            shippingSelected = checkbox.checked;
            option.classList.toggle('selected', shippingSelected);
            updateCartTotals();
        }

        function updateCartTotals() {
            const subtotal = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            const discount = subtotal * (currentDiscount / 100);
            const shipping = (shippingSelected && subtotal < 25) ? 3.75 : 0;
            const total = subtotal - discount + shipping;
            
            document.getElementById('cart-subtotal').textContent = subtotal.toFixed(2);
            document.getElementById('cart-shipping').textContent = shipping.toFixed(2);
            document.getElementById('shipping-row').style.display = shipping > 0 ? 'flex' : 'none';
            document.getElementById('cart-discount').textContent = discount.toFixed(2);
            document.getElementById('discount-row').style.display = currentDiscount > 0 ? 'flex' : 'none';
            document.getElementById('cart-total').textContent = total.toFixed(2);
        }

        function applyDiscount() {
            const code = document.getElementById('discount-input').value.toUpperCase();
            const validCodes = { 'KLOHE10': 10, 'SANVALENTIN': 15, 'AMOR20': 20, 'CORAZON': 25 };
            
            if (validCodes[code]) {
                currentDiscount = validCodes[code];
                updateCartTotals();
                document.getElementById('discount-input').value = '';
                showNotification(`Descuento ${currentDiscount}% aplicado`);
            } else {
                showErrorModal();
            }
        }

        function showErrorModal() {
            document.getElementById('error-modal').classList.add('show');
            document.getElementById('error-overlay').classList.add('show');
        }

        function closeErrorModal() {
            document.getElementById('error-modal').classList.remove('show');
            document.getElementById('error-overlay').classList.remove('show');
        }

        function showNotification(text) {
            const div = document.createElement('div');
            div.style.cssText = `
                position: fixed; bottom: 2rem; left: 50%; transform: translateX(-50%);
                background: var(--primary); color: white; padding: 1rem 2rem;
                border-radius: 8px; z-index: 3000; font-weight: 500;
                animation: slideUp 0.3s ease;
            `;
            div.textContent = text;
            document.body.appendChild(div);
            setTimeout(() => div.remove(), 2000);
        }

        function checkout() {
            if (cart.length === 0) return;
            
            let msg = '¡Hola! Quiero hacer un pedido de KLOHE:\\n\\n';
            cart.forEach(item => {
                msg += `${item.name} (Cód: ${item.code}) x${item.quantity} - $${(item.price * item.quantity).toFixed(2)}\\n`;
            });
            
            const subtotal = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            const discount = subtotal * (currentDiscount / 100);
            const shipping = (shippingSelected && subtotal < 25) ? 3.75 : 0;
            const total = subtotal - discount + shipping;
            
            msg += `\\nSubtotal: $${subtotal.toFixed(2)}`;
            if (currentDiscount > 0) msg += `\\nDescuento: -$${discount.toFixed(2)}`;
            if (shipping > 0) msg += `\\nEnvío: $${shipping.toFixed(2)}`;
            msg += `\\nTotal: $${total.toFixed(2)}`;
            
            window.open(`https://wa.me/1234567890?text=${encodeURIComponent(msg)}`, '_blank');
        }

        function toggleFaq(element) {
            const item = element.parentElement;
            const isActive = item.classList.contains('active');
            document.querySelectorAll('.faq-item').forEach(i => i.classList.remove('active'));
            if (!isActive) item.classList.add('active');
        }
    </script>
</body>
</html>
